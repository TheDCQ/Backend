<html>
	<head>
		<style>
			:root {
				--backgroundBlue: #242592;
				--Red: #f64c72;
			}
			body {
				margin: 0;
			}
			@font-face {
				font-family: Raleway;
				src: url("Public/Fonts/Raleway/Raleway-Regular.ttf");
			}
			.Title {
				position: relative;
				top: 1%;
				width: 100%;
				margin-left: auto;
				margin-right: auto;
				font-family: Raleway;
			}
			.Title h1 {
				color: whitesmoke;
				text-align: center;
				font-size: 2.5vw;
				margin: 0;
				font-weight: 600;
			}
			.Title h2 {
				margin: 0;
				color: var(--Red);
				text-align: center;
				font-size: 2vw;
				font-weight: normal;
			}
			.Explanation {
				position: relative;
				top: 20%;
				width: 70%;
				display: block;
				overflow: auto;
				background-color: var(--backgroundBlue);
				-webkit-box-shadow: 0px 1px 17px 7px rgba(0, 0, 0, 0.301);
				box-shadow: 0px 1px 17px 7px rgba(0, 0, 0, 0.301);
				margin-left: auto;
				margin-right: auto;
				border-radius: 30px;
			}
			.Explanation h1 {
				margin: 0;
				text-align: center;
				font-family: Raleway;
				color: var(--Red);
				font-weight: 500;
				font-size: 3vmin;
			}
			.Explanation p {
				font-family: Raleway;
				font-size: 2vmin;
				color: white;
				margin-left: 1%;
				margin-right: 1%;
			}
			.Source {
				position: relative;
				top: 30%;
				width: 50%;
				display: block;
				overflow: auto;
				margin-left: auto;
				margin-right: auto;
				background-color: var(--backgroundBlue);
				-webkit-box-shadow: 0px 1px 17px 7px rgba(0, 0, 0, 0.301);
				box-shadow: 0px 1px 17px 7px rgba(0, 0, 0, 0.301);
				border-radius: 30px;
			}
		</style>
		<script src="https://thedcq.com/highlight/highlight.pack.js"></script>
		<link
			rel="stylesheet"
			href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/dracula.min.css"
		/>
		<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js"></script>
		<script>
			hljs.initHighlightingOnLoad();
		</script>
		<script
			id="MathJax-script"
			async
			src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
		></script>
	</head>
	<body>
		<svg
			xmlns="http://www.w3.org/2000/svg"
			viewBox="0 0 1440 320"
			style="position: absolute; top: 0%"
		>
			<path
				fill="#242592"
				fill-opacity="1"
				d="M0,128L26.7,144C53.3,160,107,192,160,197.3C213.3,203,267,181,320,192C373.3,203,427,245,480,272C533.3,299,587,309,640,304C693.3,299,747,277,800,229.3C853.3,181,907,107,960,101.3C1013.3,96,1067,160,1120,197.3C1173.3,235,1227,245,1280,224C1333.3,203,1387,149,1413,122.7L1440,96L1440,0L1413.3,0C1386.7,0,1333,0,1280,0C1226.7,0,1173,0,1120,0C1066.7,0,1013,0,960,0C906.7,0,853,0,800,0C746.7,0,693,0,640,0C586.7,0,533,0,480,0C426.7,0,373,0,320,0C266.7,0,213,0,160,0C106.7,0,53,0,27,0L0,0Z"
			></path>
		</svg>
		<div class="Title">
			<h1>Problem of the day</h1>
			<h2>Close Permutations</h2>
			
		</div>
		<div class="Explanation">
			<h1>Explanation</h1>
			<p>
				Let's iterate on \(m\) — the number of indices such that \(pi ≠ i\). Obviously, \(0 ≤ m ≤ k\).
				<br><br>
				How to count the number of permutations with fixed m? First of all, we need to choose the indices that have the property \(pi ≠ i\) — there are  \( {n \choose m}\)ways to do this. Secondly, we need to construct a permutation q for chosen indices such that for every chosen index \(qi ≠ i\); permutations with this property are called derangements, and the number of derangements of fixed size can be calculated using exhaustive search (since m ≤ 4).
				<br><br>
				So the answer is \( \sum_{m=0}^{k} {n \choose m} d(m) \) , where \(d(m)\) is the number of derangements of size m.
			</p>
		</div>
		<div class="Source">
			<pre><code class="cpp" style="border-radius: 20px; background-color: #242592; margin: 1%;">
				#include&lt;cstdio&gt;
				long long v[1005][1005];
				int f[] = {1, 0, 1, 2, 9, 44, 265};
				int main(){
				  int n,k;
				  scanf("%d%d",&n,&k);
				 for(int i = 0; i &lt;= n; ++i)
						v[i][0] = v[i][i] = 1;
				 
					for(int i = 2; i &lt;= n; ++i)
						for(int j = 1; j &lt; i; ++j)
							v[i][j] = v[i-1][j-1] + v[i-1][j];
					long long ans = 0;
				 
					for(int i = k; i &gt;= 0; i--)
						ans += v[n][n-i] * f[i];
				 
					printf("%lld",ans);
				  }
            </code></pre>
		</div>
		<iframe style="position:relative; top: 40%; margin-left: 15%; "src="https://docs.google.com/forms/d/e/1FAIpQLSePXkPrZv8puu1aBDaBmIe9ayymZoL9WvxzqmoZzhV2ot1drg/viewform?embedded=true" width="640" height="1037" frameborder="0" marginheight="0" marginwidth="0">Se încarcă…</iframe>
		<script>
			
					var xhr = new XMLHttpRequest();
					xhr.open('GET', "/solution", false);
					xhr.send(null);
				
		</script>
	</body>
</html>
